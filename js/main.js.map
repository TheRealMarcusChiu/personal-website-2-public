{"version":3,"sources":["file:///Users/marcuschiu/Desktop/programs/hugo/my-hugo-site/themes/my-theme/assets/js/carousel.js"],"sourcesContent":[" document.addEventListener('DOMContentLoaded', function() {\n\n   const carousels = document.querySelectorAll('.carousel');\n   carousels.forEach(function( carousel ) {\n\n       const ele = carousel.querySelector('ul');\n       const amountvisible = Math.round(ele.offsetWidth/ele.querySelector('li:nth-child(1)').offsetWidth);\n       const bullets = carousel.querySelectorAll('ol li');\n       const slides = carousel.querySelectorAll('ul li');\n       const nextarrow = carousel.querySelector('.next');\n       const prevarrow = carousel.querySelector('.prev');\n\n       // Initialize the carousel\n       nextarrow.style.display = 'block';\n       prevarrow.style.display = 'block';\n       ele.scrollLeft = 0;\n       bullets[0].classList.add('selected');\n       slides[0].classList.add('selected');\n       if(amountvisible\u003e1) {\n         var removeels = carousel.querySelectorAll('ol li:nth-last-child(-n + '+(amountvisible-1)+')');\n         removeels.forEach(function(removeel) {\n           removeel.remove();\n         });\n       }\n\n       const setSelected = function() {\n           bullets.forEach(function(bullet) {\n              bullet.classList.remove('selected');\n           });\n           slides.forEach(function(slide) {\n              slide.classList.remove('selected');\n           });\n           const scrolllength = carousel.querySelector('ul li:nth-child(2)').offsetLeft - carousel.querySelector('ul li:nth-child(1)').offsetLeft;\n           const nthchild = (Math.round((ele.scrollLeft/scrolllength)+1));\n           carousel.querySelector('ol li:nth-child('+nthchild+')').classList.add('selected');\n           carousel.querySelector('ul li:nth-child('+nthchild+')').classList.add('selected');\n           if(carousel.parentElement.parentElement.querySelector('.dynamictitle')) {\n               const title = carousel.querySelector('ul li:nth-child('+nthchild+') img').getAttribute('title');\n               if(title) carousel.parentElement.parentElement.querySelector('.dynamictitle').innerHTML = title;\n           }\n       }\n\n       const scrollTo = function(event) {\n           event.preventDefault();\n           ele.scrollLeft = ele.querySelector(this.getAttribute('href')).offsetLeft;\n       }\n\n       const nextSlide = function() {\n           if(!carousel.querySelector('ol li:last-child').classList.contains('selected')) {\n               carousel.querySelector('ol li.selected').nextElementSibling.querySelector('a').click();\n           } else {\n               carousel.querySelector('ol li:first-child a').click();\n           }\n       }\n\n       const prevSlide = function() {\n           if(!carousel.querySelector('ol li:first-child').classList.contains('selected')) {\n               carousel.querySelector('ol li.selected').previousElementSibling.querySelector('a').click();\n           } else {\n               carousel.querySelector('ol li:last-child a').click();\n           }\n       }\n\n       const setInteracted = function() {\n         ele.classList.add('interacted');\n       }\n\n       // Attach the handlers\n       ele.addEventListener(\"scroll\", debounce(setSelected));\n       ele.addEventListener(\"touchstart\", setInteracted);\n       ele.addEventListener('keydown', function (e){\n           if(e.key == 'ArrowLeft') ele.classList.add('interacted');\n           if(e.key == 'ArrowRight') ele.classList.add('interacted');\n       });\n\n       nextarrow.addEventListener(\"click\", nextSlide);\n       nextarrow.addEventListener(\"mousedown\", setInteracted);\n       nextarrow.addEventListener(\"touchstart\", setInteracted);\n\n       prevarrow.addEventListener(\"click\", prevSlide);\n       prevarrow.addEventListener(\"mousedown\", setInteracted);\n       prevarrow.addEventListener(\"touchstart\", setInteracted);\n\n       bullets.forEach(function(bullet) {\n         bullet.querySelector('a').addEventListener('click', scrollTo);\n         bullet.addEventListener(\"mousedown\", setInteracted);\n         bullet.addEventListener(\"touchstart\", setInteracted);\n       });\n\n       //setInterval for autoplay\n       if(carousel.getAttribute('duration')) {\n         setInterval(function(){\n           if (ele != document.querySelector(\".carousel:hover ul\") \u0026\u0026 ele.classList.contains('interacted')==false) {\n             nextarrow.click();\n           }\n         }, carousel.getAttribute('duration'));\n       }\n\n\n   }); //end foreach\n\n }); //end onload\n\n\n /**\n * Debounce functions for better performance\n * (c) 2021 Chris Ferdinandi, MIT License, https://gomakethings.com\n * @param  {Function} fn The function to debounce\n */\n function debounce (fn) {\n // Setup a timer\n let timeout;\n // Return a function to run debounced\n return function () {\n   // Setup the arguments\n   let context = this;\n   let args = arguments;\n   // If there's a timer, cancel it\n   if (timeout) {\n     window.cancelAnimationFrame(timeout);\n   }\n   // Setup the new requestAnimationFrame()\n   timeout = window.requestAnimationFrame(function () {\n     fn.apply(context, args);\n   });\n };\n }"],"mappings":"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","names":[]}