(()=>{document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".carousel").forEach(function(e){let t=e.querySelector("ul"),r=Math.round(t.offsetWidth/t.querySelector("li:nth-child(1)").offsetWidth),s=e.querySelectorAll("ol li"),u=e.querySelectorAll("ul li"),c=e.querySelector(".next"),o=e.querySelector(".prev");if(c.style.display="block",o.style.display="block",t.scrollLeft=0,s[0].classList.add("selected"),u[0].classList.add("selected"),r>1){var f=e.querySelectorAll("ol li:nth-last-child(-n + "+(r-1)+")");f.forEach(function(n){n.remove()})}let h=function(){s.forEach(function(i){i.classList.remove("selected")}),u.forEach(function(i){i.classList.remove("selected")});let n=e.querySelector("ul li:nth-child(2)").offsetLeft-e.querySelector("ul li:nth-child(1)").offsetLeft,d=Math.round(t.scrollLeft/n+1);if(e.querySelector("ol li:nth-child("+d+")").classList.add("selected"),e.querySelector("ul li:nth-child("+d+")").classList.add("selected"),e.parentElement.parentElement.querySelector(".dynamictitle")){let i=e.querySelector("ul li:nth-child("+d+") img").getAttribute("title");i&&(e.parentElement.parentElement.querySelector(".dynamictitle").innerHTML=i)}},y=function(n){n.preventDefault(),t.scrollLeft=t.querySelector(this.getAttribute("href")).offsetLeft},L=function(){e.querySelector("ol li:last-child").classList.contains("selected")?e.querySelector("ol li:first-child a").click():e.querySelector("ol li.selected").nextElementSibling.querySelector("a").click()},S=function(){e.querySelector("ol li:first-child").classList.contains("selected")?e.querySelector("ol li:last-child a").click():e.querySelector("ol li.selected").previousElementSibling.querySelector("a").click()},l=function(){t.classList.add("interacted")};t.addEventListener("scroll",q(h)),t.addEventListener("touchstart",l),t.addEventListener("keydown",function(n){n.key=="ArrowLeft"&&t.classList.add("interacted"),n.key=="ArrowRight"&&t.classList.add("interacted")}),c.addEventListener("click",L),c.addEventListener("mousedown",l),c.addEventListener("touchstart",l),o.addEventListener("click",S),o.addEventListener("mousedown",l),o.addEventListener("touchstart",l),s.forEach(function(n){n.querySelector("a").addEventListener("click",y),n.addEventListener("mousedown",l),n.addEventListener("touchstart",l)}),e.getAttribute("duration")&&setInterval(function(){t!=document.querySelector(".carousel:hover ul")&&t.classList.contains("interacted")==!1&&c.click()},e.getAttribute("duration"))})});function q(a){let e;return function(){let t=this,r=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(function(){a.apply(t,r)})}}})();
